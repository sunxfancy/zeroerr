#define ZEROERR_ENABLE_PFR

#include "zeroerr/log.h"
#include "zeroerr/assert.h"
#include "zeroerr/unittest.h"

using namespace zeroerr;

TEST_CASE("log_test") {
    LOG(INFO) << "Hello";
    LOG(WARN) << "Test Warning";
}


TEST_CASE("lazy evaluation") {
    int sum = 0;
    INFO("sum =", sum);
    for (int i = 1; i <= 10; ++i) {
        sum += i;
        INFO("i =", i);
        INFO("i+1 =", i + 1);
        REQUIRE(sum < 50);
    }
}